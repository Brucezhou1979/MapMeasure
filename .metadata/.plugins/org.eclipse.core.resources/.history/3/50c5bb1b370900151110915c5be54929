package com.camerameasure.math;

//////



/**
 * 基于相片量测的计算类
 * @author Administrator
 *
 */
public class PhotoCal {
	//地球的平均半径，单位为米
	double R = 6371393;
	double PI = 3.1415926;
	
	/**
	 * 通过当前点的经纬度以及与相机观察点的距离和方位角计算新点的经纬度值
	 * @param dAj 已知点的经度
	 * @param dAw 已知点的纬度
	 * @param dLong 距离已经点的距离，单位为米
	 * @param dAzimuth 与已知点的方位角，单位为弧度，与正北方向的夹角
	 * @return
	 */
	public boolean CalPosbyCurrentGPSPoint(double dAj, double dAw, double dLong, double dAzimuth)
	{
		double dc = dLong / R;
		dc = dc*180 / PI;
		///求解a
		double a = Math.acos(Math.cos(90-dAj)*Math.cos(dc)+Math.sin(90-dAw)*Math.sin(dc)*Math.cos(dAzimuth));
		double dC = Math.asin(Math.sin(dc)*Math.sin(dAzimuth)/Math.sin(a));
		
		double dBw =90 - a;
		double dBj = dAj + dC;
		
		return true;
	}

}
